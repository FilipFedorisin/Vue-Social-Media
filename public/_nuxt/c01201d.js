/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,r){"use strict";var n=r(2),o=r(101);n.a.use(o.a),n.a.use(o.a,{global:!0})},11:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(41);r(103),r(214);n.a.apps.length||n.a.initializeApp({apiKey:"AIzaSyAq_Q6tkZRQvYFLit68pOIdjdWch2RGnf4",authDomain:"user-auth-56281.firebaseapp.com",databaseURL:"https://user-auth-56281-default-rtdb.europe-west1.firebasedatabase.app",projectId:"user-auth-56281",storageBucket:"user-auth-56281.appspot.com",messagingSenderId:"1095683665171",appId:"1:1095683665171:web:12ed25c10b7c8d232ebee6",measurementId:"G-SY8Q44H6C2"});var o=n.a.auth();n.a.database();t.b=n.a},143:function(e,t,r){var content=r(210);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(50).default)("47cadc0b",content,!0,{sourceMap:!1})},158:function(e,t,r){"use strict";var n={components:{Header:r(95).default},beforeCreate:function(){this.$store.commit("USER_SET_USER_NAME")}},o=r(27),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Header"),e._v(" "),r("div",[r("Nuxt")],1)],1)}),[],!1,null,null,null);t.a=component.exports;installComponents(component,{Header:r(95).default})},162:function(e,t,r){r(163),e.exports=r(164)},187:function(e,t,r){"use strict";r.r(t);r(36),r(130);t.default=function(e){var t=e.store,r=e.route,n=e.redirect,o=t.state.user;(!o&&r.path.match(/\/user(\s|\/)(?!signin|signup)/g)||!o&&"/user"===r.path)&&n("/")}},209:function(e,t,r){"use strict";r(143)},210:function(e,t,r){var n=r(49)(!1);n.push([e.i,"#Navbar{max-width:90%}",""]),e.exports=n},212:function(e,t,r){"use strict";r.r(t);var n=r(31),o=r(93),c=r(94),l=r.n(c);t.default=function(){return new n.a.Store({namespaced:!0,modules:{user:o.default,profile:l.a}})}},93:function(e,t,r){"use strict";r.r(t);r(37);var n=r(7),o=r(11);r(103);t.default={state:{user:"",userName:""},getters:{USER_GET_USER:function(e){return e.user},USER_GET_USERNAME:function(e){return e.userName}},mutations:{USER_SET_USER:function(e,t){e.user=t},USER_SET_USER_NAME:function(e,t){localStorage.getItem("user_name")?e.userName=localStorage.getItem("user_name"):t&&(localStorage.setItem("user_name",t),e.userName=t)}},actions:{USER_SIGN_UP_EMAIL:function(e,t){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var c,l,f,d,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=e.commit,l=t.email,f=t.password,d=t.userName,n.prev=2,n.next=5,o.a.createUserWithEmailAndPassword(l,f);case 5:return n.next=7,o.a.signInWithEmailAndPassword(l,f);case 7:return m=o.b.auth().currentUser.uid,n.next=10,o.b.database().ref("users/"+m).set({user_id:m,user_name:d,text:"none"});case 10:c("USER_SET_USER_NAME",d),n.next=16;break;case 13:return n.prev=13,n.t0=n.catch(2),n.abrupt("return",r.alertService.alertPopup(n.t0));case 16:case"end":return n.stop()}}),n,null,[[2,13]])})))()},USER_SIGN_IN_EMAIL:function(e,t){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var c,l,f,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=e.commit,l=t.email,f=t.password,n.prev=2,n.next=5,o.a.signInWithEmailAndPassword(l,f);case 5:return d=o.b.auth().currentUser.uid,n.next=8,o.b.database().ref("users/"+d).once("value",(function(e){null!=e.val().user_name&&c("USER_SET_USER_NAME",e.val().user_name)}));case 8:n.next=13;break;case 10:return n.prev=10,n.t0=n.catch(2),n.abrupt("return",r.alertService.alertPopup(n.t0));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})))()},USER_SIGN_OUT:function(){var e=this;o.a.signOut().catch((function(t){return e.alertService.alertPopup(t)}))}}}},94:function(e,t){},95:function(e,t,r){"use strict";r.r(t);var n={methods:{signOut:function(e){e||(this.$store.dispatch("USER_SIGN_OUT").catch((function(e){alert(e.message)})),this.$router.push("/"))}}},o=(r(209),r(27)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"py-2 shadow"},[r("div",{staticClass:"container mx-auto flex justify-between items-center",attrs:{id:"Navbar"}},[r("nuxt-link",{staticClass:"leading-tight font-bold text-black-500 text-2xl",attrs:{to:"/"}},[e._v("You Share")]),e._v(" "),r("div",[e.$store.state.user.user?r("span",[r("Nuxt-link",{attrs:{to:"/user/profile"}},[e._v(e._s(e.$store.state.user.userName))])],1):r("nuxt-link",{staticClass:"opacity-50 hover:opacity-100",attrs:{to:"/user/signin"}},[e._v("Sign In")]),e._v(" "),e.$store.state.user.user?r("button",{staticClass:"pl-4 opacity-50 hover:opacity-100",on:{click:function(t){return e.signOut()}}},[e._v("\n        Sign Out\n      ")]):e._e()],1)],1)])}),[],!1,null,null,null);t.default=component.exports},99:function(e,t,r){"use strict";r(14);var n=r(11);t.a=function(e){var t=e.store;return new Promise((function(e,r){n.a.onAuthStateChanged((function(r){t.commit("USER_SET_USER",r),e()}))}))}}},[[162,8,1,9]]]);